Implementiere jetzt den Fix für die Workflow‑Library (Duplikate entfernen + sauber strukturieren), ohne große Rewrites.

A) Duplikate an der Quelle verhindern
	•	Finde die Stelle, wo Default/Builtin‑Workflows erzeugt oder gespeichert werden (Seed/Init/Insert).
	•	Mache das idempotent: benutze einen stabilen Unique‑Key pro Workflow (slug) und verhindere doppelte Inserts (Upsert/On‑Conflict/Check‑Before‑Insert).
	•	Wenn Workflows aus knowledge_artifacts/DB kommen: dedupe serverseitig bereits beim Laden nach (tenantId + slug + version) bzw. (slug) und entscheide eine klare Regel (z.B. höchste version gewinnt).

B) Sicherheitsgurt im UI
	•	In der Komponente, die das Workflow‑Dropdown rendert (Layout Editor Topbar): dedupe clientseitig zusätzlich per Map/Set nach workflow.slug (Fallback: workflow.id).
	•	Selection darf nicht über Array‑Index laufen; nutze workflow.id/slug als Value.

C) Library sauber strukturieren
	•	Introduce/vereinheitliche einen WorkflowDefinition Type:
{ id, slug, name, kind, category, description, steps, requiredRoomTypes, version, source, enabled }
	•	Gruppiere die Dropdown‑Einträge nach kind/category mit Überschriften.
	•	Sortiere stabil: builtin zuerst, dann custom; innerhalb nach name.
	•	Wenn requiredRoomTypes im aktuellen Layout fehlen: zeige ein kleines “Nicht kompatibel / Räume fehlen” Badge oder disable den Eintrag (aber nicht crashen).

D) Aufräumen von existierenden Duplikaten (falls DB/Artifacts)
	•	Schreibe eine kleine Cleanup‑Routine oder ein Script (einmalig), das Dubletten nach slug zusammenführt und nur die “beste” Version behält.
	•	Dokumentiere, wie ich es ausführe (npx tsx …).

E) Ausgabe am Ende
	•	Liste aller geänderten Dateien
	•	Kurze Erklärung pro Änderung
	•	Testschritte:
	1.	/editor öffnen → Dropdown zeigt jeden Workflow einmal
	2.	Hard refresh → bleibt sauber
	3.	Server restart → bleibt sauber (Seed/Init ist idempotent)
	4.	Custom Workflow “Test Workflow” bleibt sichtbar
	5.	Workflow Analyse läuft weiterhin

Wichtig: Keine Breaking Changes an bestehenden Workflow‑Analysen/Connections. Nur so viel ändern wie nötig.